<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Volunteer Signup - Turtle Shelter Project</title>
    <style>
        /* Keeping the same CSS styles from original form */
        body {
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
        }

        .form-container {
            width: 100%;
            max-width: 600px;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        .form-title {
            text-align: center;
            color: #333;
            margin-bottom: 20px;
        }

        .step-container {
            position: relative;
            overflow: hidden;
            transition: height 0.3s ease-in-out;
        }

        .step {
            position: absolute;
            width: 100%;
            transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
            transform: translateX(100%);
            opacity: 0;
            visibility: hidden;
            padding: 10px;
            box-sizing: border-box;
        }

        .step.active {
            transform: translateX(0);
            opacity: 1;
            visibility: visible;
        }

        .step.left {
            transform: translateX(-100%);
        }

        .form-section {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #555;
            font-weight: 500;
        }

        input, select, textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
            font-size: 16px;
        }

        .progress-container {
            margin: 20px 0;
        }

        .progress-bar {
            background: #eee;
            height: 10px;
            border-radius: 5px;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background: #21A2DB;
            width: 0%;
            transition: width 0.3s ease;
        }

        .step-indicator {
            text-align: center;
            color: #666;
            margin-top: 5px;
            font-size: 14px;
        }

        .button-group {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }

        button {
            padding: 12px 24px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            font-size: 16px;
            transition: background-color 0.3s ease;
        }

        .next-btn {
            background: #21A2DB;
            color: white;
        }

        .next-btn:hover {
            background: #1B8ABF;
        }

        .prev-btn {
            background: #666;
            color: white;
        }

        .prev-btn:hover {
            background: #555;
        }

        .submit-btn {
            background: #21A2DB;
            color: white;
        }

        .submit-btn:hover {
            background: #1B8ABF;
        }

        button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        input:invalid, select:invalid {
            border-color: #ff6b6b;
        }
    </style>
</head>
<body>
    <div class="form-container">
        <h2 class="form-title">Volunteer Signup Form</h2>
        <form id="volunteerForm" action="/volunteer_form" method="POST">
            <div class="step-container">
                <!-- Step 1: Contact Information -->
                <div class="step active" data-step="1">
                    <h3>Contact Information</h3>
                    <div class="form-section">
                        <label for="vol_first_name">First Name*</label>
                        <input type="text" id="vol_first_name" name="vol_first_name" required>

                        <label for="vol_last_name">Last Name*</label>
                        <input type="text" id="vol_last_name" name="vol_last_name" required>

                        <label for="vol_email">Email*</label>
                        <input type="email" id="vol_email" name="vol_email" required>

                        <label for="vol_phone">Phone Number*</label>
                        <input type="tel" id="vol_phone" name="vol_phone" required>

                        <label for="vol_address">Address*</label>
                        <input type="text" id="vol_address" name="vol_address" required>

                        <label for="vol_zipcode">ZIP Code*</label>
                        <input type="text" id="vol_zipcode" name="vol_zipcode" required>

                        <label for="vol_city">City*</label>
                        <input type="text" id="vol_city" name="vol_city" required>

                        <label for="vol_state">State*</label>
                        <select id="vol_state" name="vol_state" required>
                            <option value="">Select State/Territory</option>
                            <option value="AL">AL</option>
                            <option value="AK">AK</option>
                            <option value="AS">AS</option>
                            <option value="AZ">AZ</option>
                            <option value="AR">AR</option>
                            <option value="CA">CA</option>
                            <option value="CO">CO</option>
                            <option value="CT">CT</option>
                            <option value="DE">DE</option>
                            <option value="DC">DC</option>
                            <option value="FL">FL</option>
                            <option value="GA">GA</option>
                            <option value="GU">GU</option>
                            <option value="HI">HI</option>
                            <option value="ID">ID</option>
                            <option value="IL">IL</option>
                            <option value="IN">IN</option>
                            <option value="IA">IA</option>
                            <option value="KS">KS</option>
                            <option value="KY">KY</option>
                            <option value="LA">LA</option>
                            <option value="ME">ME</option>
                            <option value="MD">MD</option>
                            <option value="MA">MA</option>
                            <option value="MI">MI</option>
                            <option value="MN">MN</option>
                            <option value="MS">MS</option>
                            <option value="MO">MO</option>
                            <option value="MT">MT</option>
                            <option value="NE">NE</option>
                            <option value="NV">NV</option>
                            <option value="NH">NH</option>
                            <option value="NJ">NJ</option>
                            <option value="NM">NM</option>
                            <option value="NY">NY</option>
                            <option value="NC">NC</option>
                            <option value="ND">ND</option>
                            <option value="MP">MP</option>
                            <option value="OH">OH</option>
                            <option value="OK">OK</option>
                            <option value="OR">OR</option>
                            <option value="PA">PA</option>
                            <option value="PR">PR</option>
                            <option value="RI">RI</option>
                            <option value="SC">SC</option>
                            <option value="SD">SD</option>
                            <option value="TN">TN</option>
                            <option value="TX">TX</option>
                            <option value="UT">UT</option>
                            <option value="VT">VT</option>
                            <option value="VI">VI</option>
                            <option value="VA">VA</option>
                            <option value="WA">WA</option>
                            <option value="WV">WV</option>
                            <option value="WI">WI</option>
                            <option value="WY">WY</option>
                        </select>



                    </div>
                </div>

                <!-- Step 2: Volunteer Details -->
                <div class="step" data-step="2">
                    <h3>Volunteer Details</h3>
                    <div class="form-section">
                        <label for="vol_available_monthly_hours">How many hours would you like to donate monthly?*</label>
                        <input type="number" id="vol_available_monthly_hours" name="vol_available_monthly_hours" required min="1">

                        <label for="vol_sewing_level">What is your sewing expertise?*</label>
                        <select id="vol_sewing_level" name="vol_sewing_level" required>
                            <option value="">Select Expertise Level</option>
                            <option value="beginner">Beginner</option>
                            <option value="intermediate">Intermediate</option>
                            <option value="advanced">Advanced</option>
                        </select>

                        <label for="travel_radius">How far are you willing to drive for a service project (miles)?*</label>
                        <input type="number" id="travel_radius" name="travel_radius" required min="1">

                        <label for="vol_finding_source">How did you find out about us?*</label>
                        <select id="vol_finding_source" name="vol_finding_source" required>
                            <option value="">Select Option</option>
                            <option value="1">Word of mouth</option>
                            <option value="2">Participated in an event</option>
                            <option value="3">JustServe</option>
                            <option value="4">Social media</option>
                            <option value="5">Advertisement</option>
                            <option value="6">News article</option>
                            <option value="7">Other</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress"></div>
                </div>
                <div class="step-indicator">Step <span id="currentStepNumber">1</span> of 2</div>
            </div>

            <div class="button-group">
                <button type="button" class="prev-btn" disabled>Previous</button>
                <button type="button" class="next-btn">Next</button>
                <button type="submit" class="submit-btn" style="display: none;">Submit</button>
            </div>
        </form>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('volunteerForm');
            const steps = Array.from(document.querySelectorAll('.step'));
            const progress = document.querySelector('.progress');
            const stepNumber = document.getElementById('currentStepNumber');
            const prevBtn = document.querySelector('.prev-btn');
            const nextBtn = document.querySelector('.next-btn');
            const submitBtn = document.querySelector('.submit-btn');
            let currentStep = 0;

            function updateProgress() {
                const progressPercentage = (currentStep / (steps.length - 1)) * 100;
                progress.style.width = progressPercentage + '%';
                stepNumber.textContent = currentStep + 1;
            }

            function showStep(stepIndex) {
                steps.forEach((step, index) => {
                    if (index < stepIndex) {
                        step.classList.remove('active');
                        step.classList.add('left');
                    } else if (index === stepIndex) {
                        step.classList.remove('left');
                        step.classList.add('active');
                        const stepContainer = document.querySelector('.step-container');
                        stepContainer.style.height = `${step.offsetHeight}px`;
                    } else {
                        step.classList.remove('active', 'left');
                    }
                });

                prevBtn.disabled = stepIndex === 0;
                if (stepIndex === steps.length - 1) {
                    nextBtn.style.display = 'none';
                    submitBtn.style.display = 'block';
                } else {
                    nextBtn.style.display = 'block';
                    submitBtn.style.display = 'none';
                }

                updateProgress();
            }

            function validateCurrentStep() {
                const currentStepElement = steps[currentStep];
                const requiredInputs = currentStepElement.querySelectorAll('input[required], select[required]');
                let isValid = true;

                requiredInputs.forEach(input => {
                    if (!input.value.trim()) {
                        input.classList.add('invalid');
                        isValid = false;
                    } else {
                        input.classList.remove('invalid');
                    }
                });

                if (!isValid) {
                    alert('Please fill in all required fields before proceeding.');
                }
                
                return isValid;
            }

            nextBtn.addEventListener('click', () => {
                if (validateCurrentStep() && currentStep < steps.length - 1) {
                    currentStep++;
                    showStep(currentStep);
                }
            });

            prevBtn.addEventListener('click', () => {
                if (currentStep > 0) {
                    currentStep--;
                    showStep(currentStep);
                }
            });


            form.addEventListener('submit', function(e) {
                console.log("Form submission attempted");
                if (!validateCurrentStep()) {
                    console.log("Validation failed");
                    e.preventDefault();
                    return;
                }
                console.log("Validation passed, submitting form");
                // Also log the form data
                const formData = new FormData(form);
                const formObject = Object.fromEntries(formData.entries());
                console.log("Form data:", formObject);
            });

            // Initialize form
            showStep(currentStep);
        });
    </script>
</body>
</html>